<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layered digital forest abstraction blending atmosphere, symbolism, and quiet psychological depth. A contemplative RVL composition for modern collectors.">
    <meta name="keywords" content="digital forest collage, abstract woodland art, symbolic nature imagery, atmospheric greens, RVL digital art">
    <title>a forest - digital collage by RUSSNFT</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Red+Hat+Text:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;700&family=Droid+Sans:wght@400;700&family=Roboto:wght@300;500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <nav class="navbar">
        <div class="container nav-container">
            <a href="../index.html" class="logo">RUSS NFT</a>
            <button class="hamburger" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="make-room.html">previous</a> <span style="color: var(--rule);">|</span> <a href="../index.html" class="active">gallery</a> <span style="color: var(--rule);">|</span> <a href="blue-redux.html">next</a></li>
                <li><a href="../about.html">about</a> <span style="color: var(--rule);">|</span> <a href="../contact.html">contact</a></li>
            </ul>
        </div>
    </nav>

    <header class="page-header banner-pages">
        <div class="container">
            <h1>digital bricollage</h1>
            <p class="tagline">new work for the 4K age</p>
        </div>
    </header>

    <main class="container" id="gallery-root"></main>

    <div class="lightbox" id="lightbox" onclick="this.style.display='none'">
        <img id="lb-img" src="">
    </div>

    <!-- LOAD NFT DATA FIRST -->
    <script src="../artworks.js" defer></script>

    <!-- PAGE LOGIC -->
    <script defer>
        const currentNFT = nfts.find(nft => nft.title === "a forest");
        const nftArray = currentNFT ? [currentNFT] : [];

        const root = document.getElementById('gallery-root');

        nftArray.forEach((nft) => {

            const section = document.createElement('section');
            section.className = 'nft-row';

            const keywordsHTML = nft.keywords
                ? nft.keywords.map(kw => `<li>${kw}</li>`).join('')
                : '';

            section.innerHTML = `
                <div class="left-col">

                    <div class="nft-image-wrapper"
                        data-image="${nft.file}"
                        data-dims="${nft.dims}"
                        onclick="openLB('${nft.file}')">
                    </div>

                    <div class="image-meta">
                        <p>${nft.dims}<span style="padding: 0 10px;">|</span>${nft.date}</p>
                    </div>

                    <div class="quote-block">${nft.quote || ''}</div>

                </div>

                <div class="right-col">

                    <h1 class="nft-title">${nft.title}</h1>

                    <div class="nft-short-desc">
                        <p>${nft.desc}</p>
                    </div>

                    <div class="nft-long-desc">
                        <p>${nft.longDesc || ''}</p>
                    </div>

                    <div class="nft-themes">
                        <h3>Themes</h3>
                        <p>${nft.themes || ''}</p>
                    </div>

                    <div class="nft-analysis">
                        <h3>Analysis</h3>
                        <p>${nft.analysis || ''}</p>
                    </div>

                    <div class="nft-collector">
                        <h3>Collector Notes / Provenance</h3>
                        <p>${nft.collector || ''}</p>
                    </div>

                    <div class="nft-series">
                        <h3>Series Context</h3>
                        <p>${nft.series || ''}</p>
                    </div>

                    <div class="nft-artist-notes">
                        <h3>Artist Notes</h3>
                        <p>${nft.artistNotes || ''}</p>
                    </div>

                    <div class="nft-keywords">
                        <h3>Keywords</h3>
                        <ul class="keywords-list">
                            ${keywordsHTML}
                        </ul>
                    </div>

                    <div class="status-module">
                        <p><a href="#" target="_blank" class="price-btn">${nft.price}</a></p>
                    </div>

                    <div class="nav-links-bottom">
                        <a href="make-room.html">Previous</a>
                        <span class="nav-separator">|</span>
                        <a href="../index.html">Gallery</a>
                        <span class="nav-separator">|</span>
                        <a href="blue-redux.html">Next</a>
                    </div>

                    <hr class="nft-rule">

                </div>
            `;

            root.appendChild(section);
        });

        /* -----------------------------
           IMAGE INITIALIZATION (AFTER DOM)
        ------------------------------ */

        function initAspectRatioImages() {
            const wrappers = document.querySelectorAll(".nft-image-wrapper");

            wrappers.forEach(wrapper => {
                const imgUrl = wrapper.dataset.image;
                const dims = wrapper.dataset.dims;

                if (dims) {
                    const match = dims.match(/(\d+)\s*x\s*(\d+)/i);
                    if (match) {
                        const width = parseInt(match[1]);
                        const height = parseInt(match[2]);
                        const ratio = width / height;
                        wrapper.style.aspectRatio = ratio;
                    }
                }

                const bg = document.createElement("div");
                bg.className = "nft-image";

                const adjustedUrl = imgUrl.startsWith('images/') ? '../' + imgUrl : imgUrl;
                bg.style.backgroundImage = `url('${adjustedUrl}')`;

                const overlay = document.createElement("img");
                overlay.className = "pixel-overlay";
                overlay.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
                overlay.alt = "";
                overlay.draggable = false;

                wrapper.appendChild(bg);
                wrapper.appendChild(overlay);
            });
        }

        function openLB(src) {
            document.getElementById('lb-img').src = src;
            document.getElementById('lightbox').style.display = 'flex';
        }

        function updateDetailImage() {
            const wrappers = document.querySelectorAll('.nft-image-wrapper');
            if (!wrappers.length) return;

            const isTabletOrMobile = window.innerWidth <= 1280;

            wrappers.forEach(wrapper => {
                const src = wrapper.dataset.image;
                const filename = src.substring(src.lastIndexOf('/') + 1);
                const basename = filename.replace(/-[123]\.jpg$/, '');

                let newSrc = isTabletOrMobile
                    ? `../images/main/${basename}-2.jpg`
                    : `../images/full/${basename}-3.jpg`;

                wrapper.dataset.image = newSrc;
                wrapper.setAttribute('onclick', `openLB('${newSrc}')`);
                const bgDiv = wrapper.querySelector('.nft-image');
                if (bgDiv) bgDiv.style.backgroundImage = `url('${newSrc}')`;
            });
        }

        /* RUN AFTER DOM IS BUILT */
        initAspectRatioImages();
        updateDetailImage();
        window.addEventListener('resize', updateDetailImage);
    </script>

    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-section">
                <h3>RUSS NFT</h3>
                <p>Unlocking the potential of digital art for the 4K age</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../index.html">Gallery</a></li>
                    <li><a href="../about.html">About</a></li>
                    <li><a href="../contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <ul>
                    <li><a href="https://www.instagram.com/mtartist2012">Instagram</a></li>
                    <li><a href="https://www.facebook.com/rvlfineart">Facebook</a></li>
                    <li><a href="https://www.rvlfineart.com/favorites">Purchase Prints</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2026 RUSS NFT. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navLinks.classList.remove('active');
            });
        });
    </script>

</body>
</html>